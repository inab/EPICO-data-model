<?xml version="1.0" encoding="UTF-8"?>
<dcc-schema xmlns="http://www.blueprint-epigenome.eu/dcc/schema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blueprint-epigenome.eu/dcc/schema bp-schema.xsd">
    <cv-declarations>
        <cv name="B5">
            <cv-file>appendix_B5.tsv</cv-file> 
        </cv>
        <cv name="B6">
            <cv-file>appendix_B6.tsv</cv-file> 
        </cv>
        <cv name="B10">
            <cv-file>appendix_B10.tsv</cv-file> 
        </cv>
        <cv name="B12">
            <cv-file>appendix_B12.tsv</cv-file> 
        </cv>
        <cv name="cngv_p__variation_type">
            <cv-file>cngv_p__variation_type.tsv</cv-file>
        </cv>
        <cv name="strand">
            <e v="-1">-1</e>
            <e v="1">1</e>
        </cv>
        <cv name="validationStatus">
            <e v="-1">Not valid</e>
            <e v="0">Not tested</e>
            <e v="-1">Validated</e>
        </cv>
    </cv-declarations>
    <pattern-declarations></pattern-declarations>
    <collection-domain>
        <!-- Metadata from experiments is being stored here -->
        <collection name="metadata" path="metadata" />
        <!-- Primary and secondary data from experiments is being stored here -->
        <collection name="primary" path="primary" />
        <!-- All the clinical data documents are stored here -->
        <collection name="cdata" path="clinical-data" />
    </collection-domain>
    <concept-types>
        <concept-type name="clinical-data" destination="cdata" />
        <concept-type name="abstract-experiment-metadata" destination="metadata">
            <column name="analysis_id">
                <description>Unique identifier for the analysis performed for a particular set of samples</description>
                <column-type item-type="string" column-kind="idref" />
            </column>
            <column name="analyzed_sample_id">
                <description>Unique identifier for the analyzed sample</description>
                <column-type item-type="string" column-kind="idref" />
            </column>
            <column name="assembly_version">
                <description>Version of reference genome assembly</description>
                <column-type item-type="integer" column-kind="required" cv="B10" />
            </column>
            <column name="platform">
                <description>Platform or technology used in the detection phase</description>
                <column-type item-type="integer" column-kind="required" cv="B5" />
            </column>
            <column name="experimental_protocol">
                <description>Name of experimental protocol and URL to written protocol</description>
                <column-type item-type="complex" column-kind="optional" complex-seps=";" complex-template="name;url" />
            </column>
            <column name="base_calling_algorithm">
                <description>Name of base calling algorithm and URL to written protocol</description>
                <column-type item-type="complex" column-kind="required" complex-seps=";" complex-template="name;url" />
            </column>
            <column name="alignment_algorithm">
                <description>Name of alignment algorithm and URL to written protocol</description>
                <column-type item-type="complex" column-kind="required" complex-seps=";" complex-template="name;url" />
            </column>
            <column name="other_analysis_algorithm">
                <description>Names of other analysis algorithms. Separate multiple algorithms by commas.</description>
                <column-type item-type="complex" column-kind="optional" complex-seps=";" complex-template="name;url" array-seps="," />
            </column>
            <column name="seq_coverage">
                <description>Sequence coverage if analyzed by sequencing platforms</description>
                <column-type item-type="decimal" column-kind="optional" />
            </column>
            <column name="raw_data_repository">
                <description>Public repository where raw data is submitted (#)</description>
                <column-type item-type="integer" column-kind="required" cv="B12" />
            </column>
            <column name="raw_data_accession">
                <description>Accession and URL for referencing the raw data at the public repository</description>
                <column-type item-type="complex" column-kind="optional" complex-seps=";" complex-template="accession;url" />
            </column>
            <column name="note">
                <description>Optional field to leave notes</description>
                <column-type item-type="string" column-kind="optional" />
            </column>
            <subtypes>
                <concept-type name="gene-expression-experiment-metadata">
                    <column name="gene_build_version">
                        <description>Version of Ensembl gene build used for annotation</description>
                        <column-type item-type="integer" column-kind="required" />
                    </column>
                    <column name="normalization_algorithm">
                        <description>Name of normalization algorithm and URL to written protocol</description>
                        <column-type item-type="complex" column-kind="required" complex-seps=";" complex-template="name;url" />
                    </column>
                </concept-type>
                <concept-type name="comparative-ngs-experiment-metadata">
                    <column name="control_sample_id">
                        <description>Unique identifier for the analyzed control sample</description>
                        <column-type item-type="string" column-kind="idref" />
                    </column>
                </concept-type>
            </subtypes>
        </concept-type>
        <concept-type name="abstract-experiment-primary" destination="primary">
            <column name="chromosome">
                <description>Name of the chromosome containing the experimentally detected feature (mutation, variation, expression, ...)</description>
                <column-type item-type="integer" column-kind="required" cv="B6" />
            </column>
            <column name="chromosome_start">
                <description>Start position of the mutation/variation on the chromosome</description>
                <column-type item-type="integer" column-kind="required" />
            </column>
            <column name="chromosome_end">
                <description>End position of the mutation/variation on the chromosome</description>
                <column-type item-type="integer" column-kind="required" />
            </column>
            <column name="chromosome_strand">
                <description>Strand where it was detected the mutation/variation on the chromosome</description>
                <column-type item-type="integer" column-kind="optional" cv="strand" />
            </column>
            <column name="validation_status">
                <description>Indicate if the mutation/variation has been validated</description>
                <column-type item-type="integer" column-kind="required" cv="validationStatus" />
            </column>
            <column name="validation_platform">
                <description>Platform or technology used in validation</description>
                <column-type item-type="integer" column-kind="optional" cv="B5"></column-type>
            </column>
            <column name="note">
                <description>Optional field to leave notes</description>
                <column-type item-type="string" column-kind="optional" />
            </column>
            <subtypes>
                <concept-type name="expression-experiment-primary">
                    <column name="quality_score">
                        <description>Average quality score for the mutation/variation call</description>
                        <column-type item-type="decimal" column-kind="optional"></column-type>
                    </column>
                    <column name="probability">
                        <description>Probability of the mutation/variation call</description>
                        <column-type item-type="decimal" column-kind="optional" />
                    </column>
                    <subtypes>
                        <concept-type name="gene-expression-experiment-primary">
                            <column name="normalized_read_count">
                                <description>Normalized count of sequencing reads if analyzed by sequencing platforms</description>
                                <column-type item-type="decimal" column-kind="required" />
                            </column>
                            <column name="raw_read_count">
                                <description>Raw count of sequencing reads if analyzed by sequencing platforms</description>
                                <column-type item-type="integer" column-kind="required" />
                            </column>
                        </concept-type>
                    </subtypes>
                </concept-type>
            </subtypes>
        </concept-type>
    </concept-types>
    <filename-format name="blueprint-dcc"></filename-format>
    <concept-domain domain="cngv" fullname="Copy Number Germline Variations" filename-format="blueprint-dcc">
        <concept name="m" fullname="Copy Number Germline Variations [cngv] – Metadata File [m]" basetype="comparative-ngs-experiment-metadata">
            <column name="variation_calling_algorithm">
                <description>Name of variation calling algorithm and URL to written protocol</description>
                <column-type item-type="complex" column-kind="required" complex-seps=";" complex-template="name;url" />
            </column>
            <subconcepts>
                <concept name="p" fullname="Copy Number Germline Variations [cngv] – Primary Analysis File [p]" basetype="expression-experiment-primary">
                    <column name="variation_id">
                        <description>Unique identifier for the variation</description>
                        <column-type item-type="string" column-kind="idref"></column-type>
                    </column>
                    <column name="variation_type">
                        <description>Type of variation</description>
                        <column-type item-type="string" column-kind="required" cv="cngv_p__variation_type" />
                    </column>
                    <column name="chromosome_start_range">
                        <description>Number of bases around chromosome_start that may contain the start position</description>
                        <annotation key="values">0 if start position is exactly at chromosome_start; positive integer for +/- number of bases around chromosome_start</annotation>
                        <column-type item-type="integer" column-kind="required" />
                    </column>
                    <column name="chromosome_end_range">
                        <description>Number of bases around chromosome_end that may contain the end position</description>
                        <annotation key="values">0 if end position is exactly at chromosome_end; positive integer for +/- number of bases around chromosome_end</annotation>
                        <column-type item-type="integer" column-kind="required" />
                    </column>
                    <column name="start_probe_id">
                        <description>Probe id containing the chromosome_start (if array platform was used)</description>
                        <column-type item-type="string" column-kind="optional"></column-type>
                    </column>
                    <column name="end_probe_id">
                        <description>Probe id containing the chromosome_end (if array platform was used)</description>
                        <column-type item-type="string" column-kind="optional"></column-type>
                    </column>
                    <column name="copy_number">
                        <description>DNA copy number estimated</description>
                        <column-type item-type="decimal" column-kind="optional"></column-type>
                    </column>
                    <column name="segment_mean">
                        <description>Mean LRR per segment</description>
                        <column-type item-type="decimal" column-kind="optional"></column-type>
                    </column>
                    <column name="segment_median">
                        <description>Median LRR per segment</description>
                        <column-type item-type="decimal" column-kind="optional"></column-type>
                    </column>
                    <column name="is_annotated">
                        <description>Indicate if the variation is annotated in the database of Genomic Variations</description>
                        <column-type item-type="boolean" column-kind="optional"></column-type>
                    </column>
                    
                    
                </concept>
            </subconcepts>
        </concept>
    </concept-domain>
</dcc-schema>
